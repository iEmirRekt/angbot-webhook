<!doctype html>
<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=utf-8" />

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="author" content="pixelcave">
  <meta name="robots" content="noindex, nofollow">
  <link rel="shortcut icon" href="../assets/media/logonew.png">
  <link rel="icon" type="image/png" sizes="192x192" href="../assets/media/logonew.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/media/logonew.png">
  <link rel="stylesheet" id="css-main" href="../assets/css/oneui.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/all.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-duotone-thin.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-duotone-solid.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-duotone-regular.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-duotone-light.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-thin.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-solid.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-regular.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/sharp-light.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-thin.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-regular.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-light.css">
  <title>AngBots - Register</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    #background-video {
      position: absolute;
      right: 0;
      bottom: 0;
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      z-index: -1;
      background-size: cover;
    }

    #page-container {
      position: relative;
      z-index: 1;
    }

    .swal2-popup {
      background-color: #070b1e !important;
      color: #fff;
    }

    .swal2-title {
      color: #fff;
    }

    .swal2-html-container {
      color: #fff;
    }

    .swal2-input,
    .swal2-textarea {
      background-color: #333 !important;
      color: #fff !important;
      border: 1px solid #555;
    }

    .swal2-confirm {
      background-color: #d33 !important;
      color: #fff !important;
    }

    .swal2-cancel {
      background-color: #555 !important;
      color: #fff !important;
    }

    .swal2-popup {
      font-family: Arial, sans-serif;
    }

    .swal2-title {
      color: #333;
      font-size: 1.5em;
    }

    .swal2-html-container {
      color: #666;
      font-size: 1.1em;
    }

    .swal2-confirm {
      background-color: #007bff;
      border-color: #007bff;
      color: white;
      font-size: 1em;
      padding: 10px 20px;
      border-radius: 5px;
    }

    .swal2-confirm:hover {
      background-color: #0056b3;
      border-color: #004085;
    }

    .swal2-popup {
      border-radius: 10px;
    }
  </style>
</head>

<body>
  <video autoplay muted loop id="background-video">
    <source src="../assets/media/login.mp4" type="video/mp4">
    Yazılım Var Bot Var Neye Bakıyon Yarram
  </video>

  <div id="page-container">
    <main id="main-container">
      <div class="hero-static d-flex align-items-center">
        <div class="w-100">
          <div class="content content-full">
            <div class="row g-0 justify-content-center">
              <div class="col-md-8 col-lg-6 col-xl-4 py-4 px-4 px-lg-5">
                <div class="text-center">
                  <p class="mb-2">
                    <i class="fa fa-2x fa-circle-notch text-primary"></i>
                  </p>
                  <h1 class="h4 mb-1">
                    <font color="white">Create Account</font>
                  </h1>
                  <p class="text-muted mb-3">
                    <font color="white">Please complete the instructions below. </font>
                  </p>
                </div>
                <div class="py-3">
                  <div class="mb-4">
                    <input type="text" class="form-control form-control-lg form-control-alt" id="signup-username"
                      name="signup-username" placeholder="Username">
                  </div>
                  <div class="mb-4">
                    <input type="text" class="form-control form-control-lg form-control-alt" id="signup-mail"
                      name="signup-mail" placeholder="E-Mail">
                  </div>
                  <div class="mb-4">
                    <input type="password" class="form-control form-control-lg form-control-alt" id="signup-password"
                      name="signup-password" placeholder="Password">
                  </div>
                  <div class="mb-4">
                    <input type="password" class="form-control form-control-lg form-control-alt"
                      id="signup-password-confirm" name="signup-password-confirm" placeholder="Password Again">
                  </div>
                  <div class="mb-4">
                    <input type="text" class="form-control form-control-lg form-control-alt" id="signup-discord-id"
                      name="signup-discord-id" placeholder="Discord ID">
                  </div>
                  <div class="row justify-content-center">
                    <div class="col-lg-6 col-xxl-5">
                      <button type="submit" id="baslatbtn" class="btn w-100 btn-alt-success">
                        <i class="fa fa-fw fa-plus me-1 opacity-50"></i> Register Now </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="../assets/js/oneui.app.min.js"></script>
  <script src="../assets/js/lib/jquery.min.js"></script>
  <script src="../assets/js/plugins/jquery-validation/jquery.validate.min.js"></script>
  <script src="../assets/js/pages/op_auth_signin.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <script>
    $(document).ready(function () {
      const message = "";
      if (message != "") {
        swal("INFORMATION", message, "error");
      } else {
        console.log("no message");
      }

      $("#baslatbtn").click(function () {
        console.log('Button Clicked');
        performCaptchaValidation();
      });

      function performCaptchaValidation() {


        const username = $("#signup-username").val();
        const mail = $("#signup-mail").val();
        const password = $("#signup-password").val();
        const password2 = $("#signup-password-confirm").val();
        const discordID = $("#signup-discord-id").val();

        if (password !== password2) {
          new swal("HATA", "Şifreler uyuşmuyor!", "error");
          return false;
        }

        if(!username || !mail || !password || !password2 || !discordID) return new swal("HATA", "Please fill in all fields!", "error");

        const settings = {
          "async": true,
          "crossDomain": true,
          "url": "../api/register",
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded"
          },
          "data": {
            "username": username,
            "mail": mail,
            "password": password,
            "discordID": discordID
          }
        };

        $.ajax(settings).done(function (response) {
          if (response.status == false) {
            new swal("HATA", response.message, "error");
            return false;
          }

          if (response.status == true) {


            Swal.fire({
              title: 'ACCOUNT VERIFIED!',
              text: 'You are redirected to the login screen!',
              icon: 'info',
              timer: 3000,
              timerProgressBar: true,
              showCancelButton: false,
              showConfirmButton: false,
              didOpen: () => {
                Swal.showLoading();
                const popup = Swal.getPopup();
                popup.querySelector('.swal2-title').style.color = '#fff';
                popup.querySelector('.swal2-html-container').style.color = '#fff';
                popup.querySelector('.swal2-popup').style.backgroundColor = '#070b1e';
              }
            }).then((result) => {
              window.location.href = "../login";
            }).catch((err) => {
              console.error("Swal error:", err);
            });

          }
        });
      }
    });
  </script>
</body>

</html>